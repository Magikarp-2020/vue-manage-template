[TOC]
# 自定义组件的使用

## page 分页
### Attributes

| 参数名      | 类型                                       | 备注                     | 必填    |
| -------- | ---------------------------------------- | ---------------------- | ----- |
| data     | Object {total: 1,current_page: 1,page_size: 1} | 接收协议的page参数，可根据后端传值来返回 | false |
| scroll   | Boolean                                  | 是否分页时滚动                | false |
| scrollTo | Number                                   | 支持滚动是滚动位置(px)          | false |

### Events

| 名称     | 备注     |
| ------ | ------ |
| change | 分页发生改变 |

## limitButton 权限按钮

```javascript
/**
     * 权限按钮：
     * 基于element-ui button 组件二次封装
     * 后端返回权限格式 :
     * {
     *      "permissions":{     //拥有权限列表
     *      "goods": ["c","u"],
     *      "resourceName2": ["*"]
     * }
     *
     * “*” 代表具有所有权限 如：
     *  {
     *      permissions: {
     *          goods: '*'
     *      }
     *      // or
     *      permissions: '*'
     *  }
     * 组件传入的权限格式:      limitName::option1,option2
     *
     * props: type size icon limit
     * emit: click
     *
     */
```
### Attributes
| 参数名   | 类型     | 备注                     | 必填    |
| ----- | ------ | ---------------------- | ----- |
| limit | String | limitName::c,r,u,d     | true  |
| ...   |        | 查看element -> el-button | false |

### Evenets

| 名称    | 备注   |
| ----- | ---- |
| click | 点击   |

## authorization 权限设置

> src/components/human/authorization.vue
>
> 用于设置权限

### Attributes

| 参数名   | 类型     | 备注      | 必填    |
| ----- | ------ | ------- | ----- |
| value | String | 初始化权限回显 | false |


### Evenets

| 名称     | 备注      | 传参                 |
| ------ | ------- | ------------------ |
| change | 当权限发生改变 | auth, 接口对应格式的权限字符串 |

## optionSpace 操作区域 & optionSpaceItem  

### optionSpace 



> src/components/common/optionSpace.vue 
>
> 用于列表上方操作区域

#### Attributes

| 参数名             | 类型      | 备注         | 必填                     |
| --------------- | ------- | ---------- | ---------------------- |
| more            | Boolean | 是否显示显示更多按钮 | false                  |
| itemLabelWidth  | Number  | 子级标签宽度     | false                  |
| itemLabelGutter | String  | 子级标签内填充大小  | false                  |
| model           | Object  | 子标签表单数据对象  | false, 当需要用到表单验证时为true |



#### Slot


| 名称    | 备注     |
| ----- | ------ |
| left  | 左方按钮   |
| right | 右方按钮   |
| more  | 高级搜索菜单 |

**持续更新**

#### code
```vue
<span slot="left"><el-button type="success" icon="plus" size="small">左方</el-button></span>

<span slot="right"><el-button type="success" icon="plus" size="small">右方</el-button></span>
```

#### view

![](../../markdown/images/optionSpace.png)



### optionSpaceItem

#### Attributes

| 参数名   | 类型                 | 备注                   | 必填            |
| ----- | ------------------ | -------------------- | ------------- |
| label | String             | 标签文本                 | false         |
| rules | Array  \|\| Object | 验证规则                 | false         |
| prop  | String             | 表单域 model 字段(下面详细说明) | 当需要表单验证时为true |

#### Slot

需要被填充的内容



### 结合使用

> 当不需要表单验证时

```vue
<option-space :more="true" item-label-width="60px">
    <span slot="right">
        <limit-btn limit="emp:role::c" type="success" icon="plus" size="" @click="addStaff">添加</limit-btn>
    </span>
    <div slot="more">
        <option-space-item label="姓名">
            <el-input type="text"></el-input>
        </option-space-item>
    </div>
</option-space>
```

> 当需要表单验证时

```vue
<option-space :more="true" item-label-width="60px" :model="demoForm"> <!-- model 传入表单 form 对象 -->
    <span slot="right">
        <limit-btn limit="emp:role::c" type="success" icon="plus" size="" @click="addStaff">添加</limit-btn>
    </span>
    <div slot="more">
      <!-- prop传入对应值名称 -->
        <option-space-item label="姓名" prop="name" :rules="[{required: true, message: '请填写姓名'}]">
            <el-input type="text" v-model="demoForm.name"></el-input>
        </option-space-item>
    </div>
</option-space>
```

